(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t){},104:function(e,t){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(66),i=a.n(s),o=a(3),c=a.n(o),l=a(5),u=a(7),d=a(8),h=a(10),p=a(9),g=a(11),f=a(6),m=a(67),w=a.n(m),b=(a(77),"https://chrome.google.com/webstore/detail/ibnejdfjmmkpcnlpebklmnkoeoihofec/"),v=r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:w.a,alt:"TronLink logo"})),_=function(e){var t=e.installed;return void 0!==t&&t?r.a.createElement("div",{className:"tronLink hover"},r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,"Log in Required"),r.a.createElement("p",null,"TronLink is installed but you must first log in. Open TronLink from the browser bar and set up your first wallet or decrypt a previously-created wallet.")),v):r.a.createElement("div",{className:"tronLink"},r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,"TronLink Required"),r.a.createElement("p",null,"To create a post or tip others you must install TronLink. TronLink is a TRON wallet for the browser that can be ",r.a.createElement("a",{href:b,target:"_blank",rel:"noopener noreferrer"},"installed from the Chrome Webstore"),". Once installed, return back and refresh the page.")),v)},y=a(21),x=a.n(y),k={tronWeb:!1,contract:!1,setTronWeb:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.tronWeb=t,e.next=3,t.contract().at("TDsoxHCffioMrBieJJXJLgx5FcthUf5M3i");case 3:this.contract=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},E=a(4),S=a.n(E),W=(r.a.Component,r.a.Component,r.a.Component,function(e){function t(e){var a;return Object(u.a)(this,t),a=Object(h.a)(this,Object(p.a)(t).call(this,e)),console.log(e.loading_reg),a.state={value:""},a.state={url_correct:!1},a.state={referal_add:null},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.login=a.login.bind(Object(f.a)(Object(f.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!1===(t=this.getQueryVariable("id"))?this.setState({value:""}):(this.getSponcerAddress(t),this.setState({value:this.state.referal_add}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"getQueryVariable",value:function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]==e)return n[1]}return!1}},{key:"getSponcerAddress",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/getsponcer?id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:1==(r=e.sent).success?(this.setState({url_correct:!0}),this.setState({referal_add:r.address}),this.setState({value:r.address})):this.setState({url_correct:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("props",this.props.loading_reg),1!=this.props.loading_reg){e.next=5;break}S()({title:"Registration In Process Wait",type:"error"}),e.next=14;break;case 5:return t=window.tronWeb.defaultAddress.base58,a="https://www.bttbest.io/api/fetch_user?user_id="+t,e.next=9,fetch(a);case 9:return n=e.sent,e.next=12,n.json();case 12:1==(r=e.sent).success?(S()({title:r.message,type:"success"}),s="https://www.bttbest.io/api/login?user_id="+t,window.location=s):S()({title:r.message,type:"error"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card oppac"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"text-white"},"My Tron Address ",this.props.loading_reg),r.a.createElement("h4",{className:"text-white"},this.props.address),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.multiSendTrx(e.state.value)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,id:"referal_address",placeholder:"Enter Referral Address",name:"referal_address"})),r.a.createElement("button",{type:"submit",className:"btn btn-success m-3 btn-lg"},"Register"),r.a.createElement("hr",null)),r.a.createElement("button",{className:"btn btn-warning m-3 btn-lg",onClick:this.login},"Login")))}}]),t}(r.a.Component)),j=(r.a.Component,a(63),a(217)),T=(a(64),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:"",loading:!1,isRegisterred:!1,error:null,dataFetched:!1,data:null,owner:null,isLoggedin:!1,user_data:null,tronrate:null,loading_reg:!1,url_referral:null,url_correct:!1,referal_add:null,tronWeb:{installed:!1,loggedIn:!1}},a.multiSendTrx=a.multiSendTrx.bind(Object(f.a)(Object(f.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,new Promise(function(e){var t={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(t.installed)return a.setState({tronWeb:t}),e();var n=0,r=setInterval(function(){if(n>=10){return window.tronWeb=new x.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),a.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(r),e()}if(t.installed=!!window.tronWeb,t.loggedIn=window.tronWeb&&window.tronWeb.ready,!t.installed)return n++;a.setState({tronWeb:t}),e()},100)});case 3:return this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"),base58:"TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"},window.tronWeb.on("addressChanged",function(){a.state.tronWeb.loggedIn||a.setState({tronWeb:{installed:!0,loggedIn:!0,address:window.tronWeb.defaultAddress}})})),e.next=6,k.setTronWeb(window.tronWeb);case 6:this.setState({loading:!1}),this.get_coin_rate(),0!=(t=this.getQueryVariable("referal"))&&(this.setState({url_referral:t}),this.getSponcerAddress(t));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"startRegisterEventListener",value:function(){k.contract.multiSendTrx().watch(function(e,t){if(e)return console.log("Failed to bind the event",e)})}},{key:"getQueryVariable",value:function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]==e)return n[1]}return!1}},{key:"getSponcerAddress",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.trondesire.io/api/getsponcer?id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:1==(r=e.sent).success?(this.setState({url_correct:!0}),this.setState({referal_add:r.address})):this.setState({url_correct:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n,r,s,i,o,l,u,d=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Already In Process Wait",type:"error"}),e.next=16;break;case 4:return n="https://www.bttbest.io/api/register_data_api?sponcer_id="+t+"&user_id="+a,console.log(n),e.next=8,fetch(n);case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,this.setState({data:s}),this.setState({dataFetched:!0}),this.setState({loading_reg:!0}),1==this.state.data.success?(i=[this.state.data.data.cf_address],this.get_coin_rate(),parseFloat(this.state.tronrate,10),o=this.state.data.data.cf_amt,l=parseInt(1e6*o,10),u=[l],l,k.contract.transferTokenTest(i,u,1002e3).send({feeLimit:1e8,callValue:0,tokenId:1002e3,tokenValue:u,shouldPollResponse:!0}).then(function(e){d.register_process(a)}).catch(function(e){console.log(e),d.setState({loading_reg:!1}),d.failed_payment(a)})):(this.setState({loading_reg:!1}),S()({title:this.state.data.message,type:"error"}));case 16:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"register_process",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/register_api?user_id="+t,console.log(a),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),this.setState({loading_reg:!1}),1==this.state.data.success?S()({title:this.state.data.message,type:"success"}):S()({title:this.state.data.message,type:"error"});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_coin_rate",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://min-api.cryptocompare.com/data/price?fsym=usd&tsyms=trx",e.next=3,fetch("https://min-api.cryptocompare.com/data/price?fsym=usd&tsyms=trx");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({tronrate:a.TRX});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"failed_payment",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/deleteuser?user_id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),1==this.state.data.success&&S()({title:this.state.data.message,type:"error"});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"activate_user",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/activateuser?user_id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),1==this.state.data.success&&S()({title:this.state.data.message,type:"success"});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"multiSendTrx",value:function(e){var t=window.tronWeb.defaultAddress.base58;this.register(e,t)}},{key:"login",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Registration In Process Wait",type:"error"}),e.next=13;break;case 4:return t=window.tronWeb.defaultAddress.base58,a="https://www.bttbest.io/api/fetch_user?user_id="+t,e.next=8,fetch(a);case 8:return n=e.sent,e.next=11,n.json();case 11:1==(r=e.sent).success?(S()({title:r.message,type:"success"}),s="https://www.bttbest.io/api/login?user_id="+t,window.location=s):S()({title:r.message,type:"error"});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"multiSendTrx_demo",value:function(e){var t=[5e6,1e7];k.contract.multisendEther(["TVWFvKMqVPymmDhn8hPHuB95UkKjVpBCGn","TXk8MdS9Umc5qivAUfEAYTGPv7v66RJrYX"],t).send({shouldPollResponse:!0,callValue:15e6}).then(function(e){return S()({title:"Vote Casted",type:"success"})}).catch(function(e){return S()({title:"Vote Failed",type:"error"})})}},{key:"render",value:function(){return this.state.tronWeb.installed?this.state.tronWeb.loggedIn?r.a.createElement("div",{className:"row oppc"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h1",{className:"text-white"}," BTTBEST "),r.a.createElement("header",null),this.state.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{animation:"grow",variant:"primary"}),r.a.createElement(j.a,{animation:"grow",variant:"secondary"}),r.a.createElement(j.a,{animation:"grow",variant:"success"}),r.a.createElement(j.a,{animation:"grow",variant:"danger"}),r.a.createElement(j.a,{animation:"grow",variant:"warning"}),r.a.createElement(j.a,{animation:"grow",variant:"info"}),r.a.createElement(j.a,{animation:"grow",variant:"light"}),r.a.createElement(j.a,{animation:"grow",variant:"dark"}),r.a.createElement("h3",{className:"text-center text-white"},"Loading...")):r.a.createElement(W,{multiSendTrx:this.multiSendTrx,login:this.login,loader_reg:this.state.loader_reg,address:window.tronWeb.defaultAddress.base58,url_correct:this.state.url_correct,referal_add:this.state.referal_add,loading_reg:this.state.loading_reg})),this.state.loading_reg?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement(j.a,{animation:"grow",variant:"primary"}),r.a.createElement(j.a,{animation:"grow",variant:"secondary"}),r.a.createElement(j.a,{animation:"grow",variant:"success"}),r.a.createElement(j.a,{animation:"grow",variant:"danger"}),r.a.createElement(j.a,{animation:"grow",variant:"warning"}),r.a.createElement(j.a,{animation:"grow",variant:"info"}),r.a.createElement(j.a,{animation:"grow",variant:"light"}),r.a.createElement(j.a,{animation:"grow",variant:"dark"}),r.a.createElement("h3",{className:"text-center text-white"},"Loading... Please Wait 2 Mins for Account Registration After Accepting Transfer Request"))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(_,{installed:!0}):r.a.createElement(_,null)}}]),t}(r.a.Component)),O=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={tronWeb:{installed:!1,loggedIn:!1},value:"",url_correct:!1,referal_add:null,get_id:"",trans_id:null,trans_data:null,sender_id:null,sender_status:!1,upgrade_data:null,loading_reg:!1},e.multiSendTrx=e.multiSendTrx.bind(Object(f.a)(Object(f.a)(e))),e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.login=e.login.bind(Object(f.a)(Object(f.a)(e))),e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getQueryVariable("id"),this.setState({get_id:t}),this.get_transaction_data(t),this.setState({loading:!0}),e.next=6,new Promise(function(e){var t={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(t.installed)return a.setState({tronWeb:t}),e();var n=0,r=setInterval(function(){if(n>=10){return window.tronWeb=new x.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),a.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(r),e()}if(t.installed=!!window.tronWeb,t.loggedIn=window.tronWeb&&window.tronWeb.ready,!t.installed)return n++;a.setState({tronWeb:t}),e()},100)});case 6:return this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"),base58:"TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"},window.tronWeb.on("addressChanged",function(){a.state.tronWeb.loggedIn||a.setState({tronWeb:{installed:!0,loggedIn:!0,address:window.tronWeb.defaultAddress}})})),e.next=9,k.setTronWeb(window.tronWeb);case 9:console.log(this.state);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"upgrade_process",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/update_level_api?user_id="+t,console.log(a),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),this.setState({loading_reg:!1}),1==this.state.data.success?S()({title:this.state.data.message,type:"success"}):S()({title:this.state.data.message,type:"error"});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"getQueryVariable",value:function(e){var t=window.location.search.substring(1);console.log(t);for(var a=t.split("&"),n=0;n<a.length;n++){var r=a[n].split("=");if(r[0]==e)return r[1]}return!1}},{key:"get_transaction_data",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/gettransaction?id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:1==(r=e.sent).success?(this.setState({url_correct:!0}),this.setState({trans_data:r}),console.log("id",r),this.state.trans_data.sender_id===window.tronWeb.defaultAddress.base58&&(this.setState({sender_id:this.state.trans_data.sender_id}),this.setState({sender_status:!0}))):this.setState({url_correct:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Upgrade_with_id",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r,s,i,o,l,u,d=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Upgradation In Process Wait",type:"error"}),e.next=16;break;case 4:return t=this.state.get_id,a="https://www.bttbest.io/api/update_level_get_data?id="+t,console.log(a),e.next=9,fetch(a,{});case 9:return n=e.sent,e.next=12,n.json();case 12:r=e.sent,this.setState({upgrade_data:r}),console.log(r),1==r.success?(this.setState({url_correct:!0}),this.setState({referal_add:r.address}),this.setState({loading_reg:!0}),console.log(this.state),s=parseInt(1e6*this.state.upgrade_data.data.pos_parent_amount,10),i=parseInt(1e6*this.state.upgrade_data.data.placement_parent_amount,10),o=[this.state.upgrade_data.data.pos_parent,this.state.upgrade_data.data.placement_parent],l=[s,i],u=s+i,k.contract.transferTokenTest(o,l,1002e3).send({feeLimit:1e8,callValue:0,tokenId:1002e3,tokenValue:u,shouldPollResponse:!0}).then(function(e){d.Upgrade_with_id(d.state.get_id)}).catch(function(e){console.log(e),d.setState({loading_reg:!1})})):(this.setState({url_correct:!1}),this.setState({loading_reg:!0}));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Upgradation In Process Wait",type:"error"}),e.next=13;break;case 4:return t=window.tronWeb.defaultAddress.base58,a="https://www.bttbest.io/api/fetch_user?user_id="+t,e.next=8,fetch(a);case 8:return n=e.sent,e.next=11,n.json();case 11:1==(r=e.sent).success?(S()({title:r.message,type:"success"}),s="https://www.bttbest.io/api/login?user_id="+t,window.location=s):S()({title:r.message,type:"error"});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"multiSendTrx",value:function(e){var t=window.tronWeb.defaultAddress.base58;this.register(e,t)}},{key:"render",value:function(){return this.state.tronWeb.installed?this.state.tronWeb.loggedIn?r.a.createElement("div",{className:"row oppc"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h1",{className:"text-white"}," BTTBEST "),r.a.createElement("header",null),r.a.createElement("div",{className:"card oppac"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"text-white"},"My Tron Address "),r.a.createElement("h4",{className:"text-white"},window.tronWeb.defaultAddress.base58),this.state.sender_status?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-info m-3 btn-lg",onClick:this.Upgrade_with_id.bind(this)}," Upgrade "),r.a.createElement("button",{className:"btn btn-warning m-3 btn-lg",onClick:this.login},"Back To Dashboard")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center text-red"},"Invalid Tronwallet"),r.a.createElement("button",{className:"btn btn-info m-3 btn-lg",onClick:this.Upgrade_with_id.bind(this)}," Upgrade "),r.a.createElement("button",{className:"btn btn-warning m-3 btn-lg",onClick:this.login},"Back To Dashboard")),this.state.loading_reg?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement(j.a,{animation:"grow",variant:"primary"}),r.a.createElement(j.a,{animation:"grow",variant:"secondary"}),r.a.createElement(j.a,{animation:"grow",variant:"success"}),r.a.createElement(j.a,{animation:"grow",variant:"danger"}),r.a.createElement(j.a,{animation:"grow",variant:"warning"}),r.a.createElement(j.a,{animation:"grow",variant:"info"}),r.a.createElement(j.a,{animation:"grow",variant:"light"}),r.a.createElement(j.a,{animation:"grow",variant:"dark"}),r.a.createElement("h3",{className:"text-center text-white"},"Loading... Please Wait 2 Mins for Account Registration After Accepting Transfer Request"))):r.a.createElement(r.a.Fragment,null))))):r.a.createElement(_,{installed:!0}):r.a.createElement(_,null)}}]),t}(r.a.Component),I=a(2),A=a(20),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={address:"",loading:!1,isRegisterred:!1,error:null,dataFetched:!1,data:null,owner:null,isLoggedin:!1,user_data:null,tronrate:null,loading_reg:!1,url_referral:null,url_correct:!1,referal_add:null,tronWeb:{installed:!1,loggedIn:!1}},a.multiSendTrx=a.multiSendTrx.bind(Object(f.a)(Object(f.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,new Promise(function(e){var t={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(t.installed)return a.setState({tronWeb:t}),e();var n=0,r=setInterval(function(){if(n>=10){return window.tronWeb=new x.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),a.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(r),e()}if(t.installed=!!window.tronWeb,t.loggedIn=window.tronWeb&&window.tronWeb.ready,!t.installed)return n++;a.setState({tronWeb:t}),e()},100)});case 3:return this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"),base58:"TXqqHYESMNUUXms7YT9hDqAr1pdyzMig4E"},window.tronWeb.on("addressChanged",function(){a.state.tronWeb.loggedIn||a.setState({tronWeb:{installed:!0,loggedIn:!0,address:window.tronWeb.defaultAddress}})})),e.next=6,k.setTronWeb(window.tronWeb);case 6:this.setState({loading:!1}),this.get_coin_rate(),0!=(t=this.getQueryVariable("referal"))&&(this.setState({url_referral:t}),this.getSponcerAddress(t));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"startRegisterEventListener",value:function(){k.contract.multiSendTrx().watch(function(e,t){if(e)return console.log("Failed to bind the event",e)})}},{key:"getQueryVariable",value:function(e){var t=window.location.search.substring(1);console.log(t);for(var a=t.split("&"),n=0;n<a.length;n++){var r=a[n].split("=");if(r[0]==e)return r[1]}return!1}},{key:"getSponcerAddress",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.trondesire.io/api/getsponcer?id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:1==(r=e.sent).success?(this.setState({url_correct:!0}),this.setState({referal_add:r.address})):this.setState({url_correct:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n,r,s,i,o,l,u,d=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Already In Process Wait",type:"error"}),e.next=16;break;case 4:return n="https://www.bttbest.io/api/register_data_api?sponcer_id="+t+"&user_id="+a,console.log(n),e.next=8,fetch(n);case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,this.setState({data:s}),this.setState({dataFetched:!0}),this.setState({loading_reg:!0}),1==this.state.data.success?(i=[this.state.data.data.cf_address],this.get_coin_rate(),parseFloat(this.state.tronrate,10),o=this.state.data.data.cf_amt,l=parseInt(1e6*o,10),u=[l],l,k.contract.transferTokenTest(i,u,1002e3).send({feeLimit:1e8,callValue:0,tokenId:1002e3,tokenValue:u,shouldPollResponse:!0}).then(function(e){d.register_process(a)}).catch(function(e){console.log(e),d.setState({loading_reg:!1}),d.failed_payment(a)})):(this.setState({loading_reg:!1}),S()({title:this.state.data.message,type:"error"}));case 16:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"register_process",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/register_api?user_id="+t,console.log(a),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),this.setState({loading_reg:!1}),1==this.state.data.success?S()({title:this.state.data.message,type:"success"}):S()({title:this.state.data.message,type:"error"});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_coin_rate",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://min-api.cryptocompare.com/data/price?fsym=usd&tsyms=trx",e.next=3,fetch("https://min-api.cryptocompare.com/data/price?fsym=usd&tsyms=trx");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({tronrate:a.TRX});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"failed_payment",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/deleteuser?user_id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),1==this.state.data.success&&S()({title:this.state.data.message,type:"error"});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"activate_user",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.bttbest.io/api/activateuser?user_id="+t,e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,this.setState({data:r}),this.setState({dataFetched:!0}),1==this.state.data.success&&S()({title:this.state.data.message,type:"success"});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"multiSendTrx",value:function(e){var t=window.tronWeb.defaultAddress.base58;this.register(e,t)}},{key:"login",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.state.loading_reg){e.next=4;break}S()({title:"Registration In Process Wait",type:"error"}),e.next=13;break;case 4:return t=window.tronWeb.defaultAddress.base58,a="https://www.bttbest.io/api/fetch_user?user_id="+t,e.next=8,fetch(a);case 8:return n=e.sent,e.next=11,n.json();case 11:1==(r=e.sent).success?(S()({title:r.message,type:"success"}),s="https://www.bttbest.io/api/login?user_id="+t,window.location=s):S()({title:r.message,type:"error"});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"multiSendTrx_demo",value:function(e){var t=[5e6,1e7];k.contract.multisendEther(["TVWFvKMqVPymmDhn8hPHuB95UkKjVpBCGn","TXk8MdS9Umc5qivAUfEAYTGPv7v66RJrYX"],t).send({shouldPollResponse:!0,callValue:15e6}).then(function(e){return S()({title:"Vote Casted",type:"success"})}).catch(function(e){return S()({title:"Vote Failed",type:"error"})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.c,null,r.a.createElement(A.a,{basename:(e=window.location.pathname,e.substr(0,e.lastIndexOf("/")))},r.a.createElement(I.a,{exact:!0,path:"/",component:T}),r.a.createElement(I.a,{exact:!0,path:"/register",component:W}),r.a.createElement(I.a,{exact:!0,path:"/upgrade",component:O}))));var e}}]),t}(r.a.Component);i.a.render(r.a.createElement(A.a,null,r.a.createElement(N,null)),document.getElementById("root"))},64:function(e,t,a){},67:function(e,t,a){e.exports=a.p+"static/media/TronLinkLogo.d3a8f115.png"},70:function(e,t,a){e.exports=a(216)},77:function(e,t,a){}},[[70,2,1]]]);
//# sourceMappingURL=main.57e363f2.chunk.js.map